# 🚀 快速自动配置指南

## 方法 1: 使用自动化脚本（推荐）

### 步骤 1: 下载 Google 服务账号 JSON 密钥文件

1. 按照 `配置指南.md` 的步骤创建服务账号
2. 下载 JSON 密钥文件到你的电脑（例如：`~/Downloads/your-project-xxxxx.json`）

### 步骤 2: 运行自动配置脚本

```bash
# 方法 A: 直接运行（会提示输入 JSON 文件路径）
npm run setup

# 方法 B: 直接指定 JSON 文件路径
node setup-config.js ~/Downloads/your-project-xxxxx.json

# 或者拖拽文件到终端
node setup-config.js /path/to/your/json-file.json
```

### 步骤 3: 按照提示操作

脚本会自动：
- ✅ 读取 JSON 文件
- ✅ 提取 `client_email` 和 `private_key`
- ✅ 生成 `.env.local` 文件
- ✅ 验证配置是否正确

### 步骤 4: 分享 Google Sheets 给服务账号

1. 打开你的 Google Sheets
2. 点击「分享」按钮
3. 粘贴服务账号邮箱（脚本会显示，或在 JSON 文件的 `client_email`）
4. 权限选择「查看者」
5. 点击「分享」

### 步骤 5: 重启服务器

```bash
npm run dev
```

## 方法 2: 手动配置

如果你不想使用脚本，也可以手动编辑 `.env.local` 文件：

1. 打开下载的 JSON 文件
2. 复制 `client_email` 的值
3. 复制 `private_key` 的值（完整复制，包括 `-----BEGIN PRIVATE KEY-----` 和 `-----END PRIVATE KEY-----`）
4. 编辑 `.env.local` 文件，填入这些值

## ⚠️ 重要提示

1. **JSON 文件安全**：JSON 密钥文件包含敏感信息，请妥善保管，不要提交到 Git
2. **分享权限**：必须将服务账号邮箱分享到 Google Sheets，否则无法访问数据
3. **私钥格式**：私钥必须保留换行符，脚本会自动处理

## 🐛 遇到问题？

如果脚本运行出错：
- 检查 JSON 文件路径是否正确
- 检查 JSON 文件格式是否正确
- 查看错误信息，通常会有提示
